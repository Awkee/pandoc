#summary To-do list.

== For 0.3 release ==

  * Test all Makefile targets on various machines (including linux with GHC 6.4.2, linux with GHC 6.6, openBSD, Mac OS X, Windows/Cygwin). 
  * Test Windows binary package on a Windows machine.
  * Test Mac OSX dmg.

When ready:
  * Tag 0.3 branch
  * Check out fresh copy, create tarball, OSX dmg, Windows zip
  * Upload tarball, dmg, and zip to Google Code downloads section.
  * Create debian packages and start upload to debian
  * Create and upload website.
  * Announce release on Freshmeat, and on pandoc-announce, markdown list, docutils list, haskell list, etc.
 
Proposed naming scheme:
  * `pandoc-0.3.tar.gz` - source tarball
  * `pandoc-0.3.dmg` - OSX disk image (compiled on PPC)
  * `pandoc-0.3.zip` - zip file containing Windows binary and documentation

Note:  debs will be available elsewhere, so we need not put them in Downloads.

== Improvements ==

=== Better smart quote handling ===

Think about adding a Quoted inline element,
and parse quotes in the readers.  Thus, for example,
{{{
"hello 'there'"
}}}
would get parsed as
{{{
Quoted DoubleQuotes [Str "hello", Space, Quoted SingleQuotes [Str "there"]]
}}}
and rendered appropriately by all the writers.  (Docbook writer
could just use `<quote>foo</quote>`!)  What makes it slightly harder
than parsing Emph and Strong is that you have to recognize possessives,
which of course can occur at the end of a word!  (Socrates' and
Socrates's are both valid ways of forming the possessive in English.)
So the hard cases (hopefully not impossible) would be these:
{{{
'Socrates' words were preserved by Plato.'

'Socrates' service in the fight against Xerxes' army    was impressive.'
}}}
Tricky!  I suppose one would have to use a lookahead:  if
the next single-quote is at the end of a word, this is an
apostrophe and not a right-hand single quote.

=== Attributes ===

Add a way of specifying attributes?  See [http://six.pairlist.net/pipermail/markdown-discuss/2005-January/000960.html this thread].   Or, at least follow PHP Markdown Extra and allow ID attributes on headers.

=== Metadata ===

More flexible way of specifying metadata at beginning?
{{{
Title:   My title
Author:  JM
Author:  Q. Xargz
Date:    12 Dec 2007
Company: X Corp.
}}}
Or use RST's way, which is less likely to conflict with anything:
{{{
:Title:   My title
:Author:  JM
:Author:  Q. Xargz
:Date:    12 Dec 2007
:Company: X Corp.
}}}

=== Data structure ===

Consider changing the default Pandoc data structure so that it is more "hierarchical":
  * Instead of section heading blocks, it would have section blocks, each with a title and a list of other elements, which might in turn be sections.
  * It wouldn't be too hard to change the readers to parse this way.  And this would allow more flexibility for the writers, especially for the proposed Docbook writer, which needs a hierarchical structure of sections. 
  * Potential problem:  some existing code assumes e.g. that note blocks are at the outer level (see RTF writer); this would have to be rewritten.
  * It would be good to have a general "tree walker" utility function that makes it easy to, say, walk through the hierarchy filtering out note blocks.

=== Text.XHTML library ===

Use XHTML library for HTML writer?  Not yet - it's not standard with 6.4.2 (but is with 6.6).  When we can drop support for 6.4.2, we can use it.

=== Validation ===

Figure out whether S5 really needs the XHTML header.  If not, change to HTML for consistency.  Or, change pandoc's default header to XHTML.

Note that pandoc's HTML output fails to validate completely (w3c), either as HTML or as XHTML.
  * HTML doesn't like the `\>` at the end of `<meta>` tags.
  * But if we remove them, we'll have trouble with S5 output, which seems to need the xhtml header?
  * There's also a problem with the email obfuscation scheme. `<noscript>` isn't allowed inside `<p>` blocks.  `<script>` _is_ allowed!  This doesn't seem to be a practical problem with the browsers I've tried, but it would be nice to validate.  We could move to a different email obfuscation technique (see e.g. the nice idea at http://subversion.tigris.org/security.html), but this one allows us to have mailto links.

== New feature ideas ==

=== Configuration file ===

Add a configuration file for default options?

=== Table of contents ===

Add format-independent "table of contents" macro.  Something like this:
{{{

%contents

}}}
in a block by itself.  To implement this, we might add a 'TableOfContents'
block type.  In latex output, this would come out as `\tableofcontents`,
in HTML, Markdown, and RTF, we'd have to parse the document for headers
(or sections - see below) and build a nested list with internal links.
In RST, we could just use the existing contents directive. 

=== Acronyms ===

Acronyms?  Perhaps like this:
{{{
the [AAAS]

[AAAS]: acronym for "American association for the advancement of science"
}}}
yields
{{{
<acronym title="American association for the advancement of science">AAAS</acronym>
}}}

Or see PHP Markdown Extra on abbreviations.  That's a pretty nice system, I think.